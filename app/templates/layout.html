<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block title %}{{ app_name }}{% endblock %}</title>
  <link rel="stylesheet" href="/static/style.css">
  <script src="https://unpkg.com/htmx.org@1.9.12"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body>
  <div class="app-layout">
    <aside class="side-rail" aria-label="Primary Navigation">
      <a class="brand logo" href="/board"><span>Ops</span>Board</a>
      <nav class="rail-nav">
        <a class="nav-link {% if request.url.path.startswith('/board') %}is-active{% endif %}" href="/board"><i data-lucide="kanban-square"></i><span>Board</span></a>
        <a class="nav-link {% if request.url.path.startswith('/alerts') %}is-active{% endif %}" href="/alerts"><i data-lucide="siren"></i><span>Alerts</span></a>
        <a class="nav-link {% if request.url.path.startswith('/incidents') %}is-active{% endif %}" href="/incidents"><i data-lucide="shield-alert"></i><span>Incidents</span></a>
        <a class="nav-link {% if request.url.path.startswith('/audit') %}is-active{% endif %}" href="/audit"><i data-lucide="file-clock"></i><span>Audit</span></a>
        <a class="nav-link {% if request.url.path.startswith('/monitoring') %}is-active{% endif %}" href="/monitoring"><i data-lucide="activity"></i><span>Monitoring</span></a>
        <a class="nav-link {% if request.url.path.startswith('/dr') %}is-active{% endif %}" href="/dr"><i data-lucide="database-backup"></i><span>DR</span></a>
        <a class="nav-link {% if request.url.path.startswith('/metrics') %}is-active{% endif %}" href="/metrics"><i data-lucide="bar-chart-3"></i><span>Metrics</span></a>
      </nav>
    </aside>

    <main class="main-area">
      <div class="main-shell">
        <header class="page-header">
          <h1>{% block page_title %}{{ app_name }}{% endblock %}</h1>
          <div class="page-actions">{% block page_actions %}{% endblock %}</div>
        </header>
        {% block page_tabs %}{% endblock %}
        {% block content %}{% endblock %}
      </div>
    </main>
  </div>
  <script>lucide.createIcons();</script>
</body>
</html>
